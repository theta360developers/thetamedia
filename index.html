<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.4">
<title>THETA Media Unofficial Guide</title>
<style>
/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: white; color: rgba(0, 0, 0, 0.8); padding: 0; margin: 0; font-family: "Source Sans Pro", "Helvetica Neue", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased, body { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

object, svg { display: inline-block; vertical-align: middle; }

.center { margin-left: auto; margin-right: auto; }

.spread { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.45; color: #7a2518; font-weight: normal; margin-top: 0; margin-bottom: 0.25em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
/* a { color: #2156a5; text-decoration: underline; line-height: inherit; } */

a { color: #64c832; text-decoration: underline; line-height: inherit; }

a:hover, a:focus { color: #1d4b8f; }
a img { border: none; }

/* Default paragraph styles */
/*p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }*/
{ font-family: "Source Sans Pro", "Helvetica Neue", Helvetica, Arial, sans-serif; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }

p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: "Open Sans", "DejaVu Sans", sans-serif; font-weight: 300; font-style: normal; color: #404040; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.0125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #b4b4b4; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #ddddd8; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: "Droid Sans Mono", "DejaVu Sans Mono", monospace; font-weight: normal; color: rgba(0, 0, 0, 0.9); }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }

ul, ol { margin-left: 1.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: rgba(0, 0, 0, 0.8); border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: 0.9375em; color: rgba(0, 0, 0, 0.6); }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: rgba(0, 0, 0, 0.6); }

blockquote, blockquote p { line-height: 1.6; color: rgba(0, 0, 0, 0.85); }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.2; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 1px #dedede; }
table thead, table tfoot { background: #f7f8f7; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: rgba(0, 0, 0, 0.8); text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: rgba(0, 0, 0, 0.8); }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f8f8f7; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.6; }

body { tab-size: 4; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.2; word-spacing: -0.05em; }
h1 strong, h2 strong, h3 strong, #toctitle strong, .sidebarblock > .content > .title strong, h4 strong, h5 strong, h6 strong { font-weight: 400; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: 0.9375em; font-style: normal !important; letter-spacing: 0; padding: 0.1em 0.5ex; word-spacing: -0.15em; background-color: #f7f7f8; -webkit-border-radius: 4px; border-radius: 4px; line-height: 1.45; text-rendering: optimizeSpeed; }

pre, pre > code { line-height: 1.45; color: rgba(0, 0, 0, 0.9); font-family: "Droid Sans Mono", "DejaVu Sans Mono", "Monospace", monospace; font-weight: normal; text-rendering: optimizeSpeed; }

.keyseq { color: rgba(51, 51, 51, 0.8); }

kbd { font-family: "Droid Sans Mono", "DejaVu Sans Mono", monospace; display: inline-block; color: rgba(0, 0, 0, 0.8); font-size: 0.65em; line-height: 1.45; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: 0 0.15em; padding: 0.2em 0.5em; vertical-align: middle; position: relative; top: -0.1em; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menu { color: rgba(0, 0, 0, 0.8); }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

p a > code:hover { color: rgba(0, 0, 0, 0.9); }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { color: rgba(0, 0, 0, 0.85); margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid #ddddd8; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid #ddddd8; padding-bottom: 8px; }
#header .details { border-bottom: 1px solid #ddddd8; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: rgba(0, 0, 0, 0.6); display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: rgba(0, 0, 0, 0.85); }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: rgba(0, 0, 0, 0.85); }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: rgba(0, 0, 0, 0.85); border-bottom: 1px solid #ddddd8; padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }

#toc { border-bottom: 1px solid #efefed; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: "Open Sans", "DejaVu Sans", sans-serif; list-style-type: none; }
#toc li { line-height: 1.3334; margin-top: 0.3334em; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle { color: #60c030; font-size: 1.2em; }

@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background-color: #f8f8f7; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #efefed; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; margin-bottom: 0.8rem; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #efefed; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #e0e0dc; margin-bottom: 1.25em; padding: 1.25em; background: #f8f8f7; -webkit-border-radius: 4px; border-radius: 4px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background-color: rgba(0, 0, 0, 0.8); padding: 1.25em; }

#footer-text { color: rgba(255, 255, 255, 0.8); line-height: 1.44; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { .sect1 { padding-bottom: 1.25em; } }
.sect1 + .sect1 { border-top: 1px solid #efefed; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #ba3925; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #a53221; }

.audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; font-family: "Source Sans Pro", "Helvetica Neue", Helvetica, Arial, sans-serif; font-size: 1rem; font-style: italic; }

table.tableblock > caption.title { white-space: nowrap; overflow: visible; max-width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { color: rgba(0, 0, 0, 0.85); }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: "Open Sans", "DejaVu Sans", sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #ddddd8; color: rgba(0, 0, 0, 0.6); }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 4px; border-radius: 4px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #e0e0dc; margin-bottom: 1.25em; padding: 1.25em; background: #f8f8f7; -webkit-border-radius: 4px; border-radius: 4px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: #7a2518; margin-top: 0; text-align: center; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint { background: #f7f7f8; }
.sidebarblock .literalblock pre, .sidebarblock .listingblock pre:not(.highlight), .sidebarblock .listingblock pre[class="highlight"], .sidebarblock .listingblock pre[class^="highlight "], .sidebarblock .listingblock pre.CodeRay, .sidebarblock .listingblock pre.prettyprint { background: #f2f1f1; }

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { -webkit-border-radius: 4px; border-radius: 4px; word-wrap: break-word; padding: 1em; font-size: 0.8125em; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 1em; } }

.literalblock.output pre { color: #f7f7f8; background-color: rgba(0, 0, 0, 0.9); }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 1em; -webkit-border-radius: 4px; border-radius: 4px; }

.listingblock pre.prettyprint { border-width: 0; }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: #999; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

table.pyhltable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; line-height: 1.45; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

pre.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #ddddd8; }

pre.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background: none !important; padding-right: 0 !important; }

.quoteblock { margin: 0 1em 1.25em 1.5em; display: table; }
.quoteblock > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock blockquote p { color: rgba(0, 0, 0, 0.85); font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: #7a2518; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.5em; margin-right: 0.5ex; text-align: right; }
.quoteblock .quoteblock { margin-left: 0; margin-right: 0; padding: 0.5em 0; border-left: 3px solid rgba(0, 0, 0, 0.6); }
.quoteblock .quoteblock blockquote { padding: 0 0 0 0.75em; }
.quoteblock .quoteblock blockquote:before { display: none; }

.verseblock { margin: 0 1em 1.25em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: rgba(0, 0, 0, 0.85); font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.9375em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.025em; color: rgba(0, 0, 0, 0.6); }

.quoteblock.abstract { margin: 0 0 1.25em 0; display: block; }
.quoteblock.abstract blockquote, .quoteblock.abstract blockquote p { text-align: left; word-spacing: 0; }
.quoteblock.abstract blockquote:before, .quoteblock.abstract blockquote p:first-of-type:before { display: none; }

table.tableblock { max-width: 100%; border-collapse: separate; }
table.tableblock td > .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid #dedede; }

table.grid-all th.tableblock, table.grid-all td.tableblock { border-width: 0 1px 1px 0; }

table.grid-all tfoot > tr > th.tableblock, table.grid-all tfoot > tr > td.tableblock { border-width: 1px 1px 0 0; }

table.grid-cols th.tableblock, table.grid-cols td.tableblock { border-width: 0 1px 0 0; }

table.grid-all * > tr > .tableblock:last-child, table.grid-cols * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-rows th.tableblock, table.grid-rows td.tableblock { border-width: 0 0 1px 0; }

table.grid-all tbody > tr:last-child > th.tableblock, table.grid-all tbody > tr:last-child > td.tableblock, table.grid-all thead:last-child > tr > th.tableblock, table.grid-rows tbody > tr:last-child > th.tableblock, table.grid-rows tbody > tr:last-child > td.tableblock, table.grid-rows thead:last-child > tr > th.tableblock { border-bottom-width: 0; }

table.grid-rows tfoot > tr > th.tableblock, table.grid-rows tfoot > tr > td.tableblock { border-width: 1px 0 0 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot { border-width: 1px 0; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: bold; }

tbody tr th { display: table-cell; line-height: 1.6; background: #f7f8f7; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: rgba(0, 0, 0, 0.8); font-weight: bold; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

td > div.verse { white-space: pre; }

ol { margin-left: 1.75em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }

ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }

ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-square-o:first-child, ul.checklist li > p:first-child > .fa-check-square-o:first-child { width: 1em; font-size: 0.85em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { width: 1em; position: relative; top: 1px; }

ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1, td.hdlist2 { vertical-align: top; padding: 0 0.625em; }

td.hdlist1 { font-weight: bold; padding-bottom: 1.25em; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0 0.75em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; display: inline-block; }
a.image object { pointer-events: none; }

sup.footnote, sup.footnoteref { font-size: 0.875em; position: static; vertical-align: super; }
sup.footnote a, sup.footnoteref a { text-decoration: none; }
sup.footnote a:active, sup.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -0.25em 0 0.75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em 0 0.225em; line-height: 1.3334; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.05em; margin-bottom: 0.2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }

#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #19407c; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: rgba(0, 0, 0, 0.8); -webkit-border-radius: 100px; border-radius: 100px; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

dt, th.tableblock, td.content, div.footnote { text-rendering: optimizeLegibility; }

h1, h2, p, td.content, span.alt { letter-spacing: -0.01em; }

p strong, td.content strong, div.footnote strong { letter-spacing: -0.005em; }

p, blockquote, dt, td.content, span.alt { font-size: 1.0625rem; }

p { margin-bottom: 1.25rem; }

.sidebarblock p, .sidebarblock dt, .sidebarblock td.content, p.tableblock { font-size: 1em; }

.exampleblock > .content { background-color: #fffef7; border-color: #e0e0dc; -webkit-box-shadow: 0 1px 4px #e0e0dc; box-shadow: 0 1px 4px #e0e0dc; }

.print-only { display: none !important; }

@media print { @page { margin: 1.25cm 0.75cm; }
  * { -webkit-box-shadow: none !important; box-shadow: none !important; text-shadow: none !important; }
  a { color: inherit !important; text-decoration: underline !important; }
  a.bare, a[href^="#"], a[href^="mailto:"] { text-decoration: none !important; }
  a[href^="http:"]:not(.bare):after, a[href^="https:"]:not(.bare):after { content: "(" attr(href) ")"; display: inline-block; font-size: 0.875em; padding-left: 0.25em; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  pre, blockquote, tr, img, object, svg { page-break-inside: avoid; }
  thead { display: table-header-group; }
  svg { max-width: 100%; }
  p, blockquote, dt, td.content { font-size: 1em; orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  #toc, .sidebarblock, .exampleblock > .content { background: none !important; }
  #toc { border-bottom: 1px solid #ddddd8 !important; padding-bottom: 0 !important; }
  .sect1 { padding-bottom: 0 !important; }
  .sect1 + .sect1 { border: 0 !important; }
  #header > h1:first-child { margin-top: 1.25rem; }
  body.book #header { text-align: center; }
  body.book #header > h1:first-child { border: 0 !important; margin: 2.5em 0 1em 0; }
  body.book #header .details { border: 0 !important; display: block; padding: 0 !important; }
  body.book #header .details span:first-child { margin-left: 0 !important; }
  body.book #header .details br { display: block; }
  body.book #header .details br + span:before { content: none !important; }
  body.book #toc { border: 0 !important; text-align: left !important; padding: 0 !important; margin: 0 !important; }
  body.book #toc, body.book #preamble, body.book h1.sect0, body.book .sect1 > h2 { page-break-before: always; }
  .listingblock code[data-lang]:before { display: block; }
  #footer { background: none !important; padding: 0 0.9375em; }
  #footer-text { color: rgba(0, 0, 0, 0.6) !important; font-size: 0.9em; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article toc2 toc-right">
<div id="header">
<h1>THETA Media Unofficial Guide</h1>
<div id="toc" class="toc2">
<div id="toctitle">Contents</div>
<ul class="sectlevel1">
<li><a href="#_resources">1. Resources</a></li>
<li><a href="#_overview">2. Overview</a></li>
<li><a href="#_resize">3. Resize</a></li>
<li><a href="#_color">4. Color</a></li>
<li><a href="#_orientation_and_tilt">5. Orientation and Tilt</a></li>
<li><a href="#_crop">6. Crop</a></li>
<li><a href="#_metadata">7. metadata</a></li>
<li><a href="#_sample_application">8. Sample Application</a></li>
<li><a href="#_web_headset_and_mobile_platforms">9. Web, Headset, and Mobile Platforms</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-73311422-1', 'auto');
ga('send', 'pageview');
ga('set', 'contentGroup1', 'All RICOH');
</script>
<div class="paragraph">
<p>This document is being created to replace the
<a href="http://theta360.guide/community-document/community.html">Unofficial Media Guide</a>.
At the time of writing, the THETA S is the newest model. If you&#8217;re looking for
information in the previous media guide. It&#8217;s still
<a href="http://theta360.guide/community-document/community.html">here</a></p>
</div>
<div class="paragraph">
<p>Post comments and corrections to <a href="http://lists.theta360.guide" class="bare">http://lists.theta360.guide</a> in a public
category or direct message
<a href="http://lists.theta360.guide/users/jcasman/">@jcasman</a> or
<a href="http://lists.theta360.guide/users/codetricity">@craig</a> on the lists system.
You must be logged in to send a message.</p>
</div>
<div class="paragraph">
<p>This is an unofficial, community-generated guide for developing applications
that use 360 media from RICOH THETA cameras.
This is not authorized by RICOH and is based on publicly available information.</p>
</div>
<div class="paragraph">
<p>Get the latest news and updates on Twitter
<strong><a href="https://twitter.com/theta360dev">@theta360dev</a></strong></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">1. Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_official_information">1.1. Official Information</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://developers.theta360.com/en/docs/v2.1/api_reference/">RICOH THETA API v2.1 reference</a>,
compliant with
<a href="https://developers.google.com/streetview/open-spherical-camera/">Open Spherical Camera API level 2</a> from Google.</p>
</li>
<li>
<p><a href="https://developers.theta360.com/en/forums/">THETA Developers Official Forum</a></p>
</li>
<li>
<p><a href="https://developers.theta360.com/en/docs/sdk/">Official SDK</a></p>
</li>
<li>
<p><a href="https://theta360.com/en/support/download/">Windows, Mac, iOS, Android apps</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_unofficial_information">1.2. Unofficial Information</h3>
<div class="ulist">
<ul>
<li>
<p><a href="http://theta360.guide/community-document/live-streaming.html">Live Streaming Guide</a></p>
</li>
<li>
<p><a href="http://lists.theta360.guide/">Community Discussion</a></p>
</li>
<li>
<p><a href="http://theta360.guide/community-document/community.html">Old Media Guide</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overview">2. Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document focuses on still images and videos that are saved to the internal storage
of the camera and transferred to a mobile phone, computer, or device such as
the <a href="http://lists.theta360.guide/t/new-sony-playstation-vr-integration-with-ricoh-theta/691?u=codetricity">Sony PlayStation VR</a>.
For information on streaming 360 video from the THETA, see the
<a href="http://theta360.guide/community-document/live-streaming.html">Live Streaming Guide</a>.</p>
</div>
<div class="paragraph">
<p>The video is a standard MP4 file. The image is a standard JPEG file. You can
use tools like Photoshop, Premiere Pro, Paint to edit both the
images and the videos.</p>
</div>
<div class="paragraph">
<p>The THETA has two lenses. Each lens captures half of a spheres. The two
spheres are placed side by side on media internal to the camera. This image
or video is referred to as dual-fisheye.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/overview/dual_fish_eye.png" alt="dual fish eye">
</div>
<div class="title">Figure 1. dual-fisheye format</div>
</div>
<div class="paragraph">
<p>Normally, you won&#8217;t see or deal with media in dual-fisheye format. You will
usually deal with media in equirectangular format.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/overview/equirectangular_video.png" alt="equirectangular video">
</div>
<div class="title">Figure 2. equirectangular format</div>
</div>
<div class="paragraph">
<p>360 players, such as the RICOH player, YouTube, Facebook, or a VR headset
will take media in equirectangular format and enable navigation.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/overview/viewer.png" alt="viewer">
</div>
<div class="title">Figure 3. THETA media in 360 player</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resize">3. Resize</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can resize your image as long as it is in ratio of 2:1.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/resize/originalSize.png" alt="originalSize">
</div>
<div class="title">Figure 4. original image dimensions</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/resize/filesize.png" alt="filesize">
</div>
<div class="title">Figure 5. original file size</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/resize/originalFacebook.png" alt="originalFacebook">
</div>
<div class="title">Figure 6. original image on Facebook</div>
</div>
<div class="paragraph">
<p>In the example below, I&#8217;m using the Linux utility to
<a href="https://www.imagemagick.org">ImageMagick</a>
to resize the image to a low resolution of 800x400.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ convert original.jpg -resize 800x400 resized.jpg</pre>
</div>
</div>
<div class="paragraph">
<p>I&#8217;ll verify that the file size was reduced from 3.8M to 0.2M.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ ll
-rw-r--r-- 1 craig craig 3820013 Oct 23  2016 original.jpg
-rw-r--r-- 1 craig craig  205001 Jun  1 13:51 resized.jpg
$</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
In the example above, I&#8217;ve aliased <code>ls -l</code> to <code>ll</code>.
</td>
</tr>
</table>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/resize/resizeFacebook.png" alt="resizeFacebook">
</div>
<div class="title">Figure 7. resized low-res image on Facebook</div>
</div>
<div class="paragraph">
<p>Navigation works in the resized image.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/resize/facebookNav.png" alt="facebookNav">
</div>
<div class="title">Figure 8. navigation works in resized image</div>
</div>
<div class="paragraph">
<p>I&#8217;m using
<a href="http://www.sno.phy.queensu.ca/~phil/exiftool/">exiftool</a> to verify the dimensions of the file.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ exiftool resized.jpg |grep 'Image Size'
Image Size                      : 800x400</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_color">4. Color</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can apply color transformations to the THETA image and retain the
360 features.</p>
</div>
<div class="paragraph">
<p>In this example, I&#8217;m using ImageMagick from the command line to
change the image into a black and white 360 image.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ convert original.jpg -colorspace Gray  -emboss 0x.5  gray.jpg</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/color/grayFacebook.png" alt="grayFacebook">
</div>
<div class="title">Figure 9. gray filter applied</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/color/grayFacebook2.png" alt="grayFacebook2">
</div>
<div class="title">Figure 10. 360 navigations works after changing color</div>
</div>
<div class="paragraph">
<p>This example shows a command line sketch transformation applied to the 360 image.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/color/sketch2.png" alt="sketch2">
</div>
<div class="title">Figure 11. pencil sketch applied to THETA image</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/color/sketch.png" alt="sketch">
</div>
<div class="title">Figure 12. navigation works with pencil sketch</div>
</div>
<div class="paragraph">
<p>The actual command is somewhat complex, but you can just copy the command
and replace the file name.</p>
</div>
<div class="paragraph">
<p>First make a pencil tile. You just need to do this once to generate
a small tile for the pencil.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>convert -size 256x256 xc:  +noise Random  -virtual-pixel tile  -motion-blur 0x20+135 -charcoal 1 -resize 50% pencil_tile.gif</pre>
</div>
</div>
<div class="paragraph">
<p>Then apply the command below.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>convert original.jpg -colorspace gray \( +clone -tile pencil_tile.gif -draw "color 0,0 reset" +clone +swap -compose color_dodge -composite \) -fx 'u*.2+v*.8' sketch.jpg</pre>
</div>
</div>
<div class="paragraph">
<p>In this example, I&#8217;m applying a photo texture with this graphic.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/color/texture_fabric.gif" alt="texture fabric">
</div>
<div class="title">Figure 13. fabric texture tile applied to THETA image</div>
</div>
<div class="paragraph">
<p>The resized image retains 360 navigation.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/color/fabric.png" alt="fabric">
</div>
<div class="title">Figure 14. THETA image with texture effect</div>
</div>
<div class="paragraph">
<p>Here&#8217;s what the images look like on Facebook.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/color/colortests.png" alt="colortests">
</div>
<div class="title">Figure 15. 360 image color tests</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_orientation_and_tilt">5. Orientation and Tilt</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The THETA camera contains a gyroscope and compass to determine the position
of the camera. The camera orientation is saved as metadata into the image.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/orientation/sideways.jpg" alt="sideways">
</div>
<div class="title">Figure 16. Camera saves orientation data to image</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/orientation/sideEqui.png" alt="sideEqui">
</div>
<div class="title">Figure 17. Image is sideways</div>
</div>
<div class="paragraph">
<p>Examining the XMP data with exiftool shows the pitch and roll.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ exiftool filename.jpg
Pose Pitch Degrees              : -12.1
Pose Roll Degrees               : 92.4</pre>
</div>
</div>
<div class="paragraph">
<p>When I upload the image to Facebook, the Facebook application reads in
the XMP data and automatically puts the image in the proper orientation.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/orientation/sidewaysFacebook.png" alt="sidewaysFacebook">
</div>
<div class="title">Figure 18. Facebook automatically corrects orientation</div>
</div>
<div class="paragraph">
<p>If your application does not automatically adjust the image
orientation based on the camera orientation, you may want to edit the orientation
manually. I&#8217;ll cover two examples. Povray and Hugin.</p>
</div>
<div class="paragraph">
<p>By rolling the x axis back by -92.4 degrees, I can display the image upright.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/orientation/correctedCrop.jpg" alt="correctedCrop">
</div>
<div class="title">Figure 19. corrected with Povray</div>
</div>
<div class="paragraph">
<p>By using Povray, I&#8217;ve deleted my XMP data and have lost 360 navigation.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/orientation/fbNoXmp.png" alt="fbNoXmp">
</div>
<div class="title">Figure 20. Facebook with no XMP data</div>
</div>
<div class="paragraph">
<p>If I set ProjectionType to equirectangular, the image will regain 360 navigation
on Facebook.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ exiftool -ProjectionType=equirectangular sidewaysCorrected.jpg
    1 image files updated</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/orientation/fbWithXmp.png" alt="fbWithXmp">
</div>
<div class="title">Figure 21. Facebook with after XMP data injection</div>
</div>
<div class="paragraph">
<p>I noticed that povray also flipped my image horizontally. I&#8217;m going to flip it back.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ convert -flop sidewaysCorrected.jpg flipped.jpg</pre>
</div>
</div>
<div class="paragraph">
<p>I&#8217;m now going to confirm that the XMP data was retained.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ exiftool flipped.jpg |grep Projection
Projection Type                 : equirectangular</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/orientation/flippedImage.png" alt="flippedImage">
</div>
<div class="title">Figure 22. Flipped image retains 360 navigation</div>
</div>
<div class="paragraph">
<p>Now that you have the basics of XMP data and pitch and roll orientation data, let&#8217;s
have some fun with povray.</p>
</div>
<div class="sect2">
<h3 id="_povray">5.1. Povray</h3>
<div class="paragraph">
<p>This shows image adjustment by wrapping the THETA
equirectangular image around a sphere in Povray
and then rotating the sphere.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
This will delete your XMP data and you may lose 360 navigation.
You may need to inject the ProjectionType metadata back into your image.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Povray is a command line tool that is intended to be used within a
bash script. Alternately, if you&#8217;re writing your own application, it
may help you to understand the concept of rotating a sphere to make the
proper image adjustment.</p>
</div>
<div class="paragraph">
<p>Povray reads in a configuration file. The file below specifies a
spherical camera and a texture for the sphere that is an equirectangular
image.</p>
</div>
<div class="sect3">
<h4 id="__pov_configuration_file">5.1.1. .pov configuration file</h4>
<div class="literalblock">
<div class="content">
<pre>#include "colors.inc"
#include "shapes.inc"</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>camera {
spherical
}</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>sphere {
  // center of sphere
  &lt;0,0,0&gt;, 1
  texture {
    pigment {
      image_map {
        jpeg "museum.jpg"
        interpolate 2
        once
        map_type 1</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>    }
   }
   rotate z * 90
   // rotate x * 90
   finish { ambient 1}
}
}</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_command_line">5.1.2. command line</h4>
<div class="paragraph">
<p>The configuration file above is used by povray on the command line
to output a new file.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ povray +W5376 +H2688 +fj  thetasphere.pov +Othetaspherez90.jpg</pre>
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/povray/original.jpg" alt="original">
</div>
<div class="title">Figure 23. original image</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/povray/x90.jpg" alt="x90">
</div>
<div class="title">Figure 24. x rotated 90 degrees</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/povray/x90view.png" alt="x90view">
</div>
<div class="title">Figure 25. view in THETA desktop app with x rotation</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/povray/z90.jpg" alt="z90">
</div>
<div class="title">Figure 26. z rotated 90 degrees</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/povray/z90view.png" alt="z90view">
</div>
<div class="title">Figure 27. view in THETA desktop app with z rotation</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Depending on your application, you may need to inject metadata tags
back into the image that you output with povray. At a minium, you should set
ProjectionType to equirectangular.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_hugin">5.2. Hugin</h3>
<div class="imageblock thumb">
<div class="content">
<img src="img/hugin/centered.jpg" alt="centered">
</div>
<div class="title">Figure 28. hugin can be used to adjust 360 images</div>
</div>
<div class="paragraph">
<p>There are many ways to fix the tilt of a 360 image. Photoshop can adjust orientation with
<a href="http://lists.theta360.guide/t/tutorial-using-photoshop-to-resize-brighten-change-orientation-of-theta-images/1079">offset adjustment</a>.
<a href="http://lists.theta360.guide/t/using-360-image-as-flat-image-with-affinity-photo/1249">Affinity Photo</a>
is also popular. If your viewer supports XMP data, you can edit
the <a href="http://lists.theta360.guide/t/getting-360-images-to-work-after-resize-exif-technique/1066">metadata</a>.
For example, in Facebook and most social media applications, simply drag
the default orientation with your mouse.</p>
</div>
<div class="paragraph">
<p>I will show you a technique to use Hugin. It&#8217;s not necessarily a best
practice as it&#8217;s a bit cumbersome. However, this technique may have a
place in your toolbox if your viewer does not support XMP data. This technique
works with any application, even applications that do not support pitch,
yaw, and roll adjustments with XMP data.</p>
</div>
<div class="sect3">
<h4 id="_starting_position_of_theta_image_before_editing">5.2.1. Starting position of THETA image before editing</h4>
<div class="imageblock thumb">
<div class="content">
<img src="img/hugin/starting.jpg" alt="starting">
</div>
<div class="title">Figure 29. image starting position</div>
</div>
</div>
<div class="sect3">
<h4 id="_starting_position_of_theta_image_after_editing">5.2.2. Starting position of THETA image after editing</h4>
<div class="imageblock thumb">
<div class="content">
<img src="img/hugin/startEdit.jpg" alt="startEdit">
</div>
<div class="title">Figure 30. image starting position after editing</div>
</div>
</div>
<div class="sect3">
<h4 id="_facebook_starting_position">5.2.3. Facebook Starting Position</h4>
<div class="paragraph">
<p>To save you time, I&#8217;ll repeat that you don&#8217;t need this technique if your
application is uploading a 360 image to Facebook or most social media sites.
Facebook adjusts the XMP data using your mouse to set the default image.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/hugin/fbStart.jpg" alt="fbStart">
</div>
<div class="title">Figure 31. Facebook default start</div>
</div>
</div>
<div class="sect3">
<h4 id="_social_media_apps_have_easy_mouse_adjustment">5.2.4. Social Media Apps Have Easy Mouse Adjustment</h4>
<div class="imageblock thumb">
<div class="content">
<img src="img/hugin/fbEdit.jpg" alt="fbEdit">
</div>
<div class="title">Figure 32. Drag to edit position on Facebook</div>
</div>
</div>
<div class="sect3">
<h4 id="_start_hugin">5.2.5. Start Hugin</h4>
<div class="imageblock thumb">
<div class="content">
<img src="img/hugin/huginStart.png" alt="huginStart">
</div>
<div class="title">Figure 33. Start Hugin</div>
</div>
</div>
<div class="sect3">
<h4 id="_drag_theta_image_onto_sphere">5.2.6. Drag THETA Image Onto Sphere</h4>
<div class="imageblock thumb">
<div class="content">
<img src="img/hugin/huginDrag.jpg" alt="huginDrag">
</div>
<div class="title">Figure 34. Drag your THETA image onto Hugin</div>
</div>
</div>
<div class="sect3">
<h4 id="_switch_to_move_drag_view">5.2.7. Switch to Move/Drag View</h4>
<div class="imageblock thumb">
<div class="content">
<img src="img/hugin/huginMove.jpg" alt="huginMove">
</div>
<div class="title">Figure 35. Switch to Move/Drag View</div>
</div>
</div>
<div class="sect3">
<h4 id="_left_mouse_on_sphere">5.2.8. Left Mouse On Sphere</h4>
<div class="imageblock thumb">
<div class="content">
<img src="img/hugin/huginMouse.jpg" alt="huginMouse">
</div>
<div class="title">Figure 36. Move sphere with mouse</div>
</div>
</div>
<div class="sect3">
<h4 id="_change_default_image_format_to_jpeg">5.2.9. Change Default Image Format to JPEG</h4>
<div class="imageblock thumb">
<div class="content">
<img src="img/hugin/huginPref.png" alt="huginPref">
</div>
<div class="title">Figure 37. Hugin preferences</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/hugin/huginFile.png" alt="huginFile">
</div>
<div class="title">Figure 38. Hugin default file</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The THETA application can only read in JPEG format files.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_save_hugin_as_pto_file">5.2.10. Save Hugin as *.pto file</h4>
<div class="imageblock thumb">
<div class="content">
<img src="img/hugin/huginPto.png" alt="huginPto">
</div>
<div class="title">Figure 39. Save Hugin project</div>
</div>
</div>
<div class="sect3">
<h4 id="_select_batch_processing_tool">5.2.11. Select Batch Processing Tool</h4>
<div class="imageblock thumb">
<div class="content">
<img src="img/hugin/huginBatch.png" alt="huginBatch">
</div>
<div class="title">Figure 40. Start Hugin batch processing tool</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/hugin/huginBatch2.png" alt="huginBatch2">
</div>
<div class="title">Figure 41. batch processing tool</div>
</div>
</div>
<div class="sect3">
<h4 id="_select_sign_to_select_hugin_project">5.2.12. Select + sign to select Hugin project</h4>
<div class="imageblock thumb">
<div class="content">
<img src="img/hugin/huginPlus.png" alt="huginPlus">
</div>
<div class="title">Figure 42. Add Hugin project to batch process</div>
</div>
</div>
<div class="sect3">
<h4 id="_add_hugin_project_file">5.2.13. Add Hugin Project File</h4>
<div class="imageblock thumb">
<div class="content">
<img src="img/hugin/huginProject.png" alt="huginProject">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_press_play_to_start_batch">5.2.14. Press Play to Start Batch</h4>
<div class="imageblock thumb">
<div class="content">
<img src="img/hugin/huginProject.png" alt="huginProject">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_edited_image_file_saved_to_disk">5.2.15. Edited Image File Saved to Disk</h4>
<div class="imageblock thumb">
<div class="content">
<img src="img/hugin/huginFinal.jpg" alt="huginFinal">
</div>
<div class="title">Figure 43. Final 360 image after editing and ready for use</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_crop">6. Crop</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Although there are better techniques to get a crop such as using Affinity
Photo, This technique is useful for a quick crop.</p>
</div>
<div class="sect2">
<h3 id="_original_image_showing_person_in_selfie_style">6.1. Original Image Showing Person in Selfie Style</h3>
<div class="imageblock thumb">
<div class="content">
<img src="img/crop/original.jpg" alt="original">
</div>
<div class="title">Figure 44. Original image in Hugin</div>
</div>
</div>
<div class="sect2">
<h3 id="_use_move_drag_to_view_side_scenery">6.2. Use Move/Drag to View Side Scenery</h3>
<div class="imageblock thumb">
<div class="content">
<img src="img/crop/move.jpg" alt="move">
</div>
<div class="title">Figure 45. Move orientation to a section you want to crop</div>
</div>
</div>
<div class="sect2">
<h3 id="_crop_scene">6.3. Crop Scene</h3>
<div class="imageblock thumb">
<div class="content">
<img src="img/crop/crop1.jpg" alt="crop1">
</div>
<div class="title">Figure 46. Selection area to crop</div>
</div>
</div>
<div class="sect2">
<h3 id="_save_as_flat_jpeg_file">6.4. Save as Flat JPEG File</h3>
<div class="imageblock thumb">
<div class="content">
<img src="img/crop/scene1.jpg" alt="scene1">
</div>
<div class="title">Figure 47. Cropped scene from 360 image</div>
</div>
</div>
<div class="sect2">
<h3 id="_details_of_steps">6.5. Details of Steps</h3>
<div class="sect3">
<h4 id="_save_hugin_project_file">6.5.1. Save Hugin Project File</h4>
<div class="imageblock thumb">
<div class="content">
<img src="img/crop/save.jpg" alt="save">
</div>
<div class="title">Figure 48. Save project file</div>
</div>
</div>
<div class="sect3">
<h4 id="_start_batch_processor">6.5.2. Start Batch Processor</h4>
<div class="imageblock thumb">
<div class="content">
<img src="img/crop/batch.png" alt="batch">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_load_project_file">6.5.3. Load Project File</h4>
<div class="imageblock thumb">
<div class="content">
<img src="img/crop/load.png" alt="load">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_run_batch">6.5.4. Run Batch</h4>
<div class="imageblock thumb">
<div class="content">
<img src="img/crop/run.png" alt="run">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_example_crops_from_same_image">6.6. Example Crops From Same image</h3>
<div class="paragraph">
<p>You can rapidly crop multiple signs out that are the same size.
This is a fairly quick technique to produce many crops quickly just
by rotating the sphere and saving the new project file. All three of
these images are made in a few minutes with the crop technique.
It might be useful for surveillance, construction, or
even social media if you reduce the width.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/crop/scene2.jpg" alt="scene2">
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/crop/scene3.jpg" alt="scene3">
</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/crop/scene4.jpg" alt="scene4">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_metadata">7. metadata</h2>
<div class="sectionbody">
<div class="paragraph">
<p>RICOH THETA images have
<a href="https://en.wikipedia.org/wiki/Exif">EXIF</a> and
<a href="https://developers.google.com/streetview/spherical-metadata">XMP</a>
metadata embedded into the image files</p>
</div>
<div class="sect2">
<h3 id="_what_is_metadata">7.1. What is Metadata?</h3>
<div class="paragraph">
<p>360 images have hidden text embedded into the image data.
This data is called metadata. It is not designed for humans. A computer reads in the metadata.</p>
</div>
<div class="paragraph">
<p><a href="https://developers.google.com/streetview/spherical-metadata">Photo Sphere XMP Metadata</a>
is a Google standard taken from the Adobe XMP standard. You can edit this data with an image
editor or a text editor. Most 360 image viewers such as Facebook will support XMP data.
As 360 images are still new, not all applications support XMP data.
If the application does not
support XMP data, you will need to edit the entire image with something
link
<a href="http://lists.theta360.guide/t/hugin-howto-adjust-theta-image-tilt-and-centering/1270">Hugin</a>
or Photoshop.</p>
</div>
</div>
<div class="sect2">
<h3 id="_why_use_xmp_data">7.2. Why Use XMP Data?</h3>
<div class="paragraph">
<p>Editing the XMP data uses less CPU and memory resources. Your application can
change the text string for orientation with
almost no delay for the user of your application. Editing the entire image
orientation with image editing techniques is going to place a heavy load on
the mobile or desktop application.</p>
</div>
</div>
<div class="sect2">
<h3 id="_what_can_you_edit">7.3. What Can You Edit?</h3>
<div class="paragraph">
<p>You can edit both the XMP data embedded in the THETA image as well as add new
XMP data tags that comply to the Photo Sphere XMP Metadata standard.
For example, your application can add GPS data as well as initial view data
to the image. The data can then be used by 360 viewing applications
such as Facebook.</p>
</div>
</div>
<div class="sect2">
<h3 id="_overview_of_functionality_using_facebook_as_viewer">7.4. Overview of Functionality using Facebook as Viewer</h3>
<div class="paragraph">
<p>This is the same image shown on Facebook with no mouse editing. The
orientation was changed by only using XMP data strings.</p>
</div>
<div class="sect3">
<h4 id="_default_view_of_image_before_editing">7.4.1. Default View of Image Before Editing</h4>
<div class="paragraph">
<p>The original image looks like this on Facebook with no editing.
Although Facebook allows you to set the orientation with their Facebook app,
let&#8217;s imagine that you&#8217;re building a better Facebook or building a new
application to support XMP data. Imagine that the mouse is not there.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/metadata/default.jpg" alt="default">
</div>
<div class="title">Figure 49. default starting view</div>
</div>
<div class="paragraph">
<p>This is the default XMP data that we&#8217;ll edit for our tests.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;GPano:PosePitchDegrees&gt;-0.9&lt;/GPano:PosePitchDegrees&gt;
&lt;GPano:PoseRollDegrees&gt;-0.4&lt;/GPano:PoseRollDegrees&gt;</pre>
</div>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="_pose_pitch_increased_by_180_degrees">7.4.2. Pose Pitch Increased by 180 Degrees</h4>
<div class="paragraph">
<p>Here, I&#8217;ll increase the PosePitchDegrees by 180 degrees to illustrate the
orientation change. Image the camera is upside and you need to correct the image orientation.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/metadata/pitch180.jpg" alt="pitch180">
</div>
<div class="title">Figure 50. pitch rotated 180 degrees</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;GPano:PosePitchDegrees&gt;179.1&lt;/GPano:PosePitchDegrees&gt;
&lt;GPano:PoseRollDegrees&gt;-0.4&lt;/GPano:PoseRollDegrees&gt;</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_pose_roll_increased_by_180_degrees">7.4.3. Pose Roll Increased by 180 Degrees</h4>
<div class="paragraph">
<p>In the next example, I&#8217;ve increased the Roll by 180 and reset the Pitch to the default value.
image::img/metadata/roll180.jpg[role="thumb" title="roll rotated 180 degrees"]</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;GPano:PosePitchDegrees&gt;-0.9&lt;/GPano:PosePitchDegrees&gt;
&lt;GPano:PoseRollDegrees&gt;179.6&lt;/GPano:PoseRollDegrees&gt;</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_initialviewheadingdegrees_decreased_by_180">7.4.4. InitialViewHeadingDegrees Decreased by 180</h4>
<div class="paragraph">
<p>In the next example, I&#8217;ve added a new metadata tag for <em>InitialViewHeadingDegrees</em>.
I got the name of the tag from the XMP standard. I&#8217;ve rotated the orientation
by 180 degrees to show the back of the image sphere.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/metadata/heading180.png" alt="heading180">
</div>
<div class="title">Figure 51. initial view heading rotated 180 degrees</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;GPano:PosePitchDegrees&gt;-0.9&lt;/GPano:PosePitchDegrees&gt;
&lt;GPano:PoseRollDegrees&gt;-0.4&lt;/GPano:PoseRollDegrees&gt;
&lt;GPano:InitialViewHeadingDegrees&gt;135&lt;/GPano:InitialViewHeadingDegrees&gt;</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_metadata_tools">7.5. Metadata Tools</h3>
<div class="paragraph">
<p>There are a number of free tools and libraries to access the metadata.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.sno.phy.queensu.ca/~phil/exiftool/">ExifTool by Phil Harvey</a></p>
</li>
<li>
<p><a href="http://u88.n24.queensu.ca/~bogdan/">ExifToolGUI</a></p>
</li>
<li>
<p><a href="https://www.thexifer.net/">the eXif.er</a></p>
</li>
</ul>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/metadata/exifgui.jpg" alt="exifgui">
</div>
<div class="title">Figure 52. ExifToolGUI</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/metadata/exif-data.png" alt="exif data">
</div>
<div class="title">Figure 53. metadata viewed with ExifToolGUI</div>
</div>
<div class="paragraph">
<p>You can immediately see useful data in the metadata tags. Many sites, including
Facebook will
<a href="https://facebook360.fb.com/editing-360-photos-injecting-metadata/">look</a>
for a <strong>Make</strong> of <strong>RICOH</strong> and a <strong>Model</strong> of <strong>RICOH THETA S</strong>. You can
use the metadata <strong>Make</strong> and <strong>Model</strong> to see if the image file your
application is opening is a 360 image.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The THETA image must also be in a ratio of 2:1. Your application should
check for this ratio in case the image was edited incorrectly in post-processing.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Clicking on the Xmp tab, we&#8217;ll now get to the real exciting data.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/metadata/xmp_data.png" alt="xmp data">
</div>
<div class="title">Figure 54. Exciting THETA XMP Data</div>
</div>
<div class="paragraph">
<p>For starters, you can check for the <strong>ProjectionType</strong> of <strong>equirectangular</strong>.
Your application can easily identify an equirectangular image this way.</p>
</div>
<div class="paragraph">
<p>Below this, you can see the <strong>PoseHeadingDegrees</strong>, <strong>PosePitchDegrees</strong>, and
<strong>PoseRollDegrees</strong>. The THETA camera has internal sensors to get the
heading, pitch and roll.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
The user of your application may have edited the image and deleted
the metadata from the image. The solution is to review their post-processing
workflow and then inspect the metadata manually or your application can check it.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Metadata can be injected into a 360 image that has lost the data by graphic
editing tools. Programming libraries can do this, or you can use exiftool
in a script.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>exiftool -ProjectionType="equirectangular" photo.jpg</pre>
</div>
</div>
<div class="paragraph">
<p>Here&#8217;s an
<a href="http://lists.theta360.guide/t/getting-360-images-to-work-after-resize-exif-technique/1066">article</a>
on getting the images to work after resizing the image by
copying the original XMP data and copying over the resized image.</p>
</div>
</div>
<div class="sect2">
<h3 id="_edit_xmp_data_in_text_file">7.6. Edit XMP Data In Text File</h3>
<div class="imageblock thumb">
<div class="content">
<img src="img/metadata/exportXmp.png" alt="exportXmp">
</div>
<div class="title">Figure 55. Use ExifToolGui to export XMP data as a text file</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/metadata/atomXmp.png" alt="atomXmp">
</div>
<div class="title">Figure 56. XMP data can be edited in a text editor like Atom</div>
</div>
<div class="paragraph">
<p>Import XMP data into THETA image. With the THETA image you want to edit
selected, copy metadata from single file.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/metadata/copyMetadata.png" alt="copyMetadata">
</div>
<div class="title">Figure 57. Using ExifToolGui, copy metadata from single file into image</div>
</div>
</div>
<div class="sect2">
<h3 id="_exiftool_from_command_line">7.7. Exiftool from command line</h3>
<div class="paragraph">
<p>You can read and edit the XMP data directly from the command line. In the
examples below, I&#8217;m using a bash shell on Windows. Many people use
a bash script to control exiftool</p>
</div>
<div class="sect3">
<h4 id="_reading_data">7.7.1. Reading Data</h4>
<div class="literalblock">
<div class="content">
<pre>$ ./exiftool.exe edited_image.jpg &gt; data.txt
$ less data.txt</pre>
</div>
</div>
<div class="paragraph">
<p>This is the metadata in my data.txt file</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ExifTool Version Number         : 10.47
File Name                       : edited_image.jpg
Directory                       : .
File Size                       : 3.7 MB
File Modification Date/Time     : 2017:05:31 12:44:39-07:00
File Access Date/Time           : 2017:05:31 12:44:39-07:00
File Creation Date/Time         : 2017:05:31 11:31:21-07:00
File Permissions                : rw-rw-rw-
File Type                       : JPEG
File Type Extension             : jpg
MIME Type                       : image/jpeg
Exif Byte Order                 : Big-endian (Motorola, MM)
Image Description               :
Make                            : RICOH
Camera Model Name               : RICOH THETA S
Orientation                     : Horizontal (normal)
X Resolution                    : 72
Y Resolution                    : 72
Resolution Unit                 : inches
Software                        : RICOH THETA S Ver 1.62
Modify Date                     : 2016:10:23 12:25:33
Y Cb Cr Positioning             : Co-sited
Copyright                       :
Exposure Time                   : 1/125
F Number                        : 2.0
ISO                             : 100
Sensitivity Type                : Standard Output Sensitivity
Exif Version                    : 0230
Date/Time Original              : 2016:10:23 12:25:33
Create Date                     : 2016:10:23 12:25:33
Components Configuration        : Y, Cb, Cr, -
Compressed Bits Per Pixel       : 3.2
Aperture Value                  : 2.0
Brightness Value                : 3.5
Exposure Compensation           : -0.7
Max Aperture Value              : 2.0
Metering Mode                   : Multi-segment
Light Source                    : Unknown
Flash                           : No Flash
Focal Length                    : 1.3 mm
Maker Note Type                 : Rdc
Firmware Version                : 1.62
Serial Number                   : (00000000)00010093
Recording Format                : JPEG
Accelerometer                   : 359.6 -0.9
Compass                         : 315
Time Zone                       : -07:00
Exposure Program                : Auto
White Balance                   : Auto
User Comment                    :
Flashpix Version                : 0100
Color Space                     : sRGB
Exif Image Width                : 5376
Exif Image Height               : 2688
Interoperability Index          : R98 - DCF basic file (sRGB)
Interoperability Version        : 0100
Exposure Mode                   : Auto
Scene Capture Type              : Standard
Sharpness                       : Normal
GPS Version ID                  : 2.3.0.0
GPS Latitude Ref                : North
GPS Longitude Ref               : West
GPS Altitude Ref                : Above Sea Level
GPS Time Stamp                  : 19:25:31
GPS Img Direction Ref           : True North
GPS Img Direction               : 315
GPS Map Datum                   : WGS84
GPS Date Stamp                  : 2016:10:23
Compression                     : JPEG (old-style)
Thumbnail Offset                : 58496
Thumbnail Length                : 3118
XMP Toolkit                     : Image::ExifTool 10.47
Cropped Area Image Height Pixels: 2688
Cropped Area Image Width Pixels : 5376
Cropped Area Left Pixels        : 0
Cropped Area Top Pixels         : 0
Full Pano Height Pixels         : 2688
Full Pano Width Pixels          : 5376
Initial View Heading Degrees    : 135
Pose Heading Degrees            : 315.0
Pose Pitch Degrees              : -0.9
Pose Roll Degrees               : -0.4
Projection Type                 : equirectangular
Use Panorama Viewer             : True
Image Width                     : 5376
Image Height                    : 2688
Encoding Process                : Baseline DCT, Huffman coding
Bits Per Sample                 : 8
Color Components                : 3
Y Cb Cr Sub Sampling            : YCbCr4:2:2 (2 1)
Aperture                        : 2.0
GPS Altitude                    : 36 m Above Sea Level
GPS Date/Time                   : 2016:10:23 19:25:31Z
GPS Latitude                    : 37 deg 25' 58.58" N
GPS Longitude                   : 122 deg 10' 14.32" W
GPS Position                    : 37 deg 25' 58.58" N, 122 deg 10' 14.32" W
Image Size                      : 5376x2688
Megapixels                      : 14.5
Ricoh Pitch                     : -0.9
Ricoh Roll                      : -0.399999999999977
Shutter Speed                   : 1/125
Thumbnail Image                 : (Binary data 3118 bytes, use -b option to extract)
Focal Length                    : 1.3 mm
Light Value                     : 9.0</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_writing_data">7.8. Writing Data</h3>
<div class="literalblock">
<div class="content">
<pre>$ ./exiftool.exe -InitialViewHeadingDegrees=45 edited_image.jpg
    1 image files updated</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_grab_xmp_data_with_node">7.9. Grab XMP Data with Node</h3>
<div class="sect3">
<h4 id="_script">7.9.1. Script</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td>
  <td class="code"><pre>  <span class="keyword">var</span> im = require(<span class="string"><span class="delimiter">'</span><span class="content">imagemagick</span><span class="delimiter">'</span></span>);
  <span class="keyword">var</span> filename = process.argv.slice(<span class="integer">2</span>)[<span class="integer">0</span>];

  <span class="keyword">if</span> (filename === <span class="predefined-constant">undefined</span>) {
    console.log(<span class="string"><span class="delimiter">'</span><span class="content">\n</span><span class="content">    usage: node nodeMagick.js image</span><span class="content">\n</span><span class="delimiter">'</span></span>);
  } <span class="keyword">else</span> {

  console.log(filename);
  im.identify(filename, <span class="keyword">function</span>(err, metadata) {
    <span class="keyword">if</span> (err) <span class="keyword">throw</span> err;
    <span class="keyword">var</span> filtered = {}
    <span class="keyword">var</span> data = metadata.properties
    <span class="keyword">for</span> (key <span class="keyword">in</span> data) {
      <span class="keyword">if</span> (key.match(<span class="regexp"><span class="delimiter">/</span><span class="content">^gpano</span><span class="delimiter">/</span></span>)) filtered[key] = data[key];
    }
    console.log(filtered);
  })

}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_output">7.9.2. Output</h4>
<div class="literalblock">
<div class="content">
<pre>$ node nodeMagick.js original.jpg
{ 'gpano:croppedareaimageheightpixels': '2688',
  'gpano:croppedareaimagewidthpixels': '5376',
  'gpano:croppedarealeftpixels': '0',
  'gpano:croppedareatoppixels': '0',
  'gpano:fullpanoheightpixels': '2688',
  'gpano:fullpanowidthpixels': '5376',
  'gpano:poseheadingdegrees': '180.0',
  'gpano:posepitchdegrees': '2.8',
  'gpano:poserolldegrees': '-0.3',
  'gpano:projectiontype': 'equirectangular',
  'gpano:usepanoramaviewer': 'True' }</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_zero_out_xmp_data_with_theta_desktop_application">7.10. Zero Out XMP Data with THETA Desktop Application</h3>
<div class="paragraph">
<p>The THETA desktop application can be used to zero out the pitch and roll so that
your image editing application does not get confused. Problems occur
when the entire image is edited with an image editor and then an application like
Google Street View applies the XMP pitch and roll correction on top of the
editing.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/metadata/xmp_theta_app.png" alt="xmp theta app">
</div>
<div class="title">Figure 58. Official THETA Desktop Application saving XMP data</div>
</div>
<div class="paragraph">
<p>After the correction, the XMP data for pitch and roll will be zeroed out.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/metadata/zero-out.png" alt="zero out">
</div>
<div class="title">Figure 59. Pitch and Roll are zeroed out by the THETA app</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The orientation of images on an application like Google Streetview will be incorrect
if the user applied correction to some images and not others. They need to apply the adjustment
to all images.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_libraries">7.11. Libraries</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/mayanklahiri/easyexif">easyexif</a>: C++ EXIF parsing library by <a href="http://lahiri.me/">Mayank Lahiri</a></p>
</li>
<li>
<p><a href="http://www.exiv2.org/">Exiv2</a>: C++ metadata library and tools by Andreas Huggel</p>
</li>
<li>
<p><a href="https://www.codeproject.com/Articles/36342/ExifLib-A-Fast-Exif-Data-Extractor-for-NET">ExifLib</a> -
A fast EXIF data extractor for .NET by Simon McKenzie</p>
</li>
<li>
<p><a href="https://www.npmjs.com/package/imagemagick">Imagemagick module for Noe</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_end_user_tools">7.12. End User Tools</h3>
<div class="paragraph">
<p>These tools are for digital artists and support the XMP tags. Many other tools
support the metadata tags.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.flamingpear.com/flexify-2.html">Flexify 2</a> Photoshop plug-in</p>
</li>
<li>
<p><a href="https://helpx.adobe.com/premiere-pro/how-to/vr-video.html">Adobe Premiere Pro with VR support</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sample_application">8. Sample Application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The sample application
<a href="https://github.com/khufkens/theta_rectify">theta_rectify</a> and
<a href="http://lists.theta360.guide/t/theta-s-auto-level-bash-script/1257">post</a>
 were contributed to the
community by
<a href="http://www.khufkens.com/">Dr. Koen Hufkens</a>
of Harvard University.</p>
</div>
<div class="paragraph">
<p>My <a href="http://virtualforest.io">Virtual Forest</a> project is
still running strong and generates tons of spherical images
(currently ~50GB). However, the post on which the camera sits is
not perfectly level.  The Theta S camera normally compensates
for this using an internal gyroscope which detects pitch and
roll of the camera.  Yet, when downloading images directly from the
camera no adjustments are made and the pitch and roll data is
merely recorded in the EXIF data of the image.</p>
</div>
<div class="paragraph">
<p>As such I wrote a small bash script which rectifies (levels the horizon) in Theta S
spherical images using this internal EXIF data. This is an alternative
implementation to the
<a href="https://github.com/regen100/thetaexif">THETA EXIF Library</a> by
<a href="https://github.com/regen100">Regen</a>. I use his cute Lama test images for
reference. All credit for the funky images go to Regen. Below is the quick
install guide to using my script. I hope it helps speed up people&#8217;s
Theta S workflow.</p>
</div>
<div class="sect2">
<h3 id="_install">8.1. Install</h3>
<div class="paragraph">
<p>Download, fork or copy paste the script from
<a href="https://github.com/khufkens/theta_rectify">my github repository</a> to your machine
and make it executable.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ chmod +x theta_rectify.sh</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_use">8.2. Use</h3>
<div class="literalblock">
<div class="content">
<pre>$ theta_rectify.sh image.jpg</pre>
</div>
</div>
<div class="paragraph">
<p>The above command will rectify the image.jpg file and output a new file called image_rectified.jpg.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/sampleapp/original.jpg" alt="original">
</div>
<div class="title">Figure 60. Original Image</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/sampleapp/rectified.jpg" alt="rectified">
</div>
<div class="title">Figure 61. rectified image</div>
</div>
<div class="paragraph">
<p>Visual comparison between my results and those of
<a href="http://www.regentechlog.com/2014/06/26/python-thetaexif/">Regen&#8217;s python script</a>
show good correspondence.</p>
</div>
</div>
<div class="sect2">
<h3 id="_requirements">8.3. Requirements</h3>
<div class="paragraph">
<p>The script depends on a running copy of exiftools, imagemagick and POVRay.
These tools are commonly available in most Linux distros, and can be
installed on OSX using tools such as homebrew. I lack a MS Windows system,
but the script should be easily adjusted to cover similar functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_code">8.4. Code</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
</pre></td>
  <td class="code"><pre>  #!/bin/bash
  #
  # Automatically levels Theta S spherical images
  # depends on exiftools / imagemagick and POVRay
  # Should work on most Linux installs and on
  # OSX using homebrew installs or similar

  # get the filename without the extension
  noextension=`echo $1 | sed 's/\(.*\)\..*/\1/'`

  # grab the width and height of the images
  height=`exiftool $1 | grep &quot;^Image Height&quot; | cut -d':' -f2 | sed 's/ //g'`
  width=`exiftool $1 | grep &quot;^Image Width&quot; | cut -d':' -f2 | sed 's/ //g'`

  # grab pitch roll
  roll=`exiftool $1 | grep &quot;Roll&quot; | cut -d':' -f2 | sed 's/ //g'`
  pitch=`exiftool $1 | grep &quot;Pitch&quot; | cut -d':' -f2 | sed 's/ //g'`
  pitch=$(bc &lt;&lt;&lt; &quot;$pitch * -1&quot;)

  # flip the image horizontally
  convert -flop $1 tmp.jpg

  # create povray script with correct image parameters
  cat &lt;&lt;EOF &gt; tmp.pov
  // Equirectangular Panorama Render
  // bare bones script
  // camera settings
  camera {
    spherical // equirectangular projection
    up    y * 1
    right  x * image_width / image_height
    location &lt;0,0,0&gt;     // put camera at origin
    angle 360 180        // full image
    rotate x * 0         // Tilt up (+) or down (-)
    rotate y * -90         // Look left (+) or right (-)
    rotate z * 0         // Rotate CCW (+) or CW (-)
  }
  // create a sphere shape
  sphere {
    // center of sphere
    &lt;0,0,0&gt;, 1
    texture {
      pigment {
        image_map {
          jpeg &quot;tmp.jpg&quot;
          interpolate 2 // smooth it
          once   // don't tile image, just one copy
          map_type 1
        }
      }
      rotate x * $roll   //Tilt up (+) or down (-) or PITCH
      rotate y * 0       //shift left (+) or right (-)
      rotate z * $pitch  //Rotate CCW (+) or CW (-) or ROLL
      finish { ambient 1 }
    }
  }
  EOF

  # execute povray script and rename file
  povray +W$width +H$height -D +fj tmp.pov +O${noextension}_rectified.jpg

  # remove temporary files / clean up
  rm tmp.jpg
  rm tmp.pov</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_explanation">8.5. Explanation</h3>
<div class="paragraph">
<p>This section added by Craig.</p>
</div>
<div class="paragraph">
<p>exiftool pulls the orientation from the XMP data. To get the Roll, grep
for the Roll.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ exiftool original.jpg |grep Roll
Pose Roll Degrees               : -0.3
Ricoh Roll                      : -0.300000000000011</pre>
</div>
</div>
<div class="paragraph">
<p>Same for pitch.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ exiftool original.jpg |grep "Pitch"
Pose Pitch Degrees              : 2.8
Ricoh Pitch                     : 2.8</pre>
</div>
</div>
<div class="paragraph">
<p>This line uses ImageMagick to flip the image horizontally.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>convert -flop $1 tmp.jpg</pre>
</div>
</div>
<div class="paragraph">
<p>In this section, Koen creates a Povray file.</p>
</div>
<div class="literalblock">
<div class="content">
<pre># create povray script with correct image parameters
cat &lt;&lt;EOF &gt; tmp.pov
// Equirectangular Panorama Render
// bare bones script</pre>
</div>
</div>
<div class="paragraph">
<p>The Povray configuration file is covered in this
<a href="http://www.povray.org/documentation/3.7.0/t2_2.html#t2_2">documentation</a>.</p>
</div>
<div class="paragraph">
<p>The main section of the documentation is below.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>camera {
  location &lt;0, 2, -3&gt;
  look_at  &lt;0, 1,  2&gt;
}</pre>
</div>
</div>
<div class="paragraph">
<p>The camera statement describes where and how the camera sees the scene.
It gives x-, y- and z-coordinates. location &lt;0,2,-3&gt; places the camera
up two units and back three units from the center of the ray-tracing
universe which is at &lt;0,0,0&gt;. By default +z is into the screen
and -z is back out of the screen.</p>
</div>
<div class="paragraph">
<p>look_at &lt;0,1,2&gt; rotates the camera to point at the coordinates &lt;0,1,2&gt;.
A point 1 unit up from the origin and 2 units away from the origin.
This makes it 5 units in front of and 1 unit lower than the camera.
The look_at point should be the center of attention of our image.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>sphere {
  &lt;0, 1, 2&gt;, 2
  texture {
    pigment { color Yellow }
  }
}</pre>
</div>
</div>
<div class="paragraph">
<p>The first vector specifies the center of the sphere. In this example
the x coordinate is zero so it is centered left and right. It is also at y=1
or one unit up from the origin. The z coordinate is 2 which is five units
in front of the camera, which is at z=-3. After the center vector is
a comma followed by the radius which in this case is two units.
Since the radius is half the width of a sphere, the sphere is
four units wide.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_web_headset_and_mobile_platforms">9. Web, Headset, and Mobile Platforms</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In addition to social media networks like Facebook, Google Street View,
there are a number of tools, frameworks and platforms to share
THETA images and video.</p>
</div>
<div class="paragraph">
<p>I&#8217;ll divide the application into three categories:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>WebVR (Experimental)</p>
</li>
<li>
<p>Unity</p>
</li>
<li>
<p>JavaScript libraries</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="_webvr">9.1. WebVR</h3>
<div class="paragraph">
<p>WebVR is an experimental specification for JavaScript APIs. For a status update on WebVR, go to
<a href="https://webvr.info/">webvr.info</a></p>
</div>
<div class="sect3">
<h4 id="_aframe">9.1.1. aframe</h4>
<div class="paragraph">
<p>A-Frame works on web, mobile, and headsets. It&#8217;s one of the leading
open source frameworks for WebVR.</p>
</div>
<div class="paragraph">
<p>You can test a THETA 360 Image Gallery by pointing your phone in landscape
mode to <a href="https://360gallery.glitch.me">the sample app</a></p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/platform/gallery1.png" alt="gallery1">
</div>
<div class="title">Figure 62. A-Frame Gallery</div>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/platform/gallery2.png" alt="gallery2">
</div>
<div class="title">Figure 63. A-Frame Gallery</div>
</div>
<div class="sect4">
<h5 id="_tutorial_to_build_a_frame_application_with_glitch">Tutorial to Build A-Frame Application with Glitch</h5>
<div class="paragraph">
<p>The example uses Glitch, a collaboration platform for coding web applications.</p>
</div>
<div class="paragraph">
<p><strong>1. Organize 3 Images for gallery</strong></p>
</div>
<div class="paragraph">
<p>Copy 3 images from your camera to a folder on your computer.</p>
</div>
<div class="paragraph">
<p><strong>2. Remix Gallery Application on Glitch</strong></p>
</div>
<div class="paragraph">
<p>Go to Glitch <a href="https://glitch.com/edit/#!/360gallery">here</a>.</p>
</div>
<div class="paragraph">
<p>Press <em>Remix</em> to make your own copy of the files.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/platform/glitchRemix.png" alt="glitchRemix">
</div>
<div class="title">Figure 64. Copying code on Glitch for editing</div>
</div>
<div class="paragraph">
<p><strong>3. Upload THETA Images to Glitch</strong></p>
</div>
<div class="paragraph">
<p>Under the assets area, drag and drop your THETA images.</p>
</div>
<div class="paragraph">
<p>*4.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
optional step is to upload menu pictures. The menus are 240x240 pixel images.
</td>
</tr>
</table>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/platform/glitchAssets.png" alt="glitchAssets">
</div>
<div class="title">Figure 65. Copy THETA images into Glitch assets area</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_google_vr">9.2. Google VR</h3>

</div>
<div class="sect2">
<h3 id="_unity">9.3. Unity</h3>

</div>
<div class="sect2">
<h3 id="_web_sites">9.4. Web sites</h3>

</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-06-05 13:25:49 PDT
</div>
</div>
</body>
</html>